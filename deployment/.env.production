# HuanuCanvas 生产环境配置
# 复制此文件为 .env.production.local 并修改其中的值

NODE_ENV=production

# 应用信息
APP_NAME=PenguinMagic
APP_VERSION=1.4.1
DOMAIN=huanu.example.com

# 端口配置
FRONTEND_HOST_PORT=80
FRONTEND_SSL_PORT=443
BACKEND_HOST_PORT=8765
PROMETHEUS_HOST_PORT=9090
GRAFANA_HOST_PORT=3000
REDIS_HOST_PORT=6379
POSTGRES_HOST_PORT=5432

# 生产环境特性
LOG_LEVEL=warn
HOT_RELOAD=false
SOURCE_MAPS=false

# 数据库配置
POSTGRES_DB=huanu_prod
POSTGRES_USER=huanu_prod
POSTGRES_PASSWORD=PRODUCTION_SECURE_PASSWORD_CHANGE_ME

# Redis配置
REDIS_PASSWORD=PRODUCTION_REDIS_SECURE_PASSWORD_CHANGE_ME

# 监控配置
GRAFANA_PASSWORD=PRODUCTION_GRAFANA_SECURE_PASSWORD_CHANGE_ME
ENABLE_MONITORING=true

# API密钥 (必须替换)
GEMINI_API_KEY=YOUR_PRODUCTION_GEMINI_API_KEY_HERE

# 安全密钥 (必须替换)
JWT_SECRET=PRODUCTION_JWT_SECRET_KEY_32_CHARS_MINIMUM_SECURE_CHANGE_ME
SESSION_SECRET=PRODUCTION_SESSION_SECRET_KEY_32_CHARS_MINIMUM_SECURE_CHANGE_ME

# SSL配置 (生产环境必须启用)
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/huanu.crt
SSL_KEY_PATH=/etc/ssl/private/huanu.key

# 文件路径
UPLOAD_PATH=/opt/huanu-canvas/uploads
TEMP_PATH=/opt/huanu-canvas/temp

# 性能配置
MAX_MEMORY_USAGE=1GB
MAX_CPU_USAGE=500m
MAX_CONCURRENT_REQUESTS=10
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# 安全配置
ALLOWED_ORIGINS=https://huanu.example.com,https://*.huanu.example.com
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# 备份配置
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# 外部服务 (可选)
SENTRY_DSN=
NEW_RELIC_LICENSE_KEY=